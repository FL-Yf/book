<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础渲染 |  </title>
    <meta name="description" content="3D渲染引擎">
    <link rel="stylesheet" href="/auto/xf_doc/sdk/assets/style.2ac629aa.css">
    <link rel="modulepreload" href="/auto/xf_doc/sdk/assets/chunks/AlgoliaSearchBox.02c8d977.js">
    <link rel="modulepreload" href="/auto/xf_doc/sdk/assets/app.363355ad.js">
    <link rel="modulepreload" href="/auto/xf_doc/sdk/assets/three-air_examples.md.46dd13f4.lean.js">
    
    <meta name="twitter:title" content="基础渲染 |  ">
  <meta property="og:title" content="基础渲染 |  ">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/auto/xf_doc/sdk/" aria-label=" , back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="http://e100.3dnest.cn/zhanguan/static/img/avatar/zq.logo.png" alt="Logo" data-v-cc01ef16>  </a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/auto/xf_doc/sdk/three-air/introduction" data-v-b8818f8c>3D 空间 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/api/core" data-v-b8818f8c>API 参考 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/problem/" data-v-b8818f8c>常见问题 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/log/" data-v-b8818f8c>日志 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item active" href="/auto/xf_doc/sdk/three-air/introduction" data-v-b8818f8c>3D 空间 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/api/core" data-v-b8818f8c>API 参考 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/problem/" data-v-b8818f8c>常见问题 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auto/xf_doc/sdk/log/" data-v-b8818f8c>日志 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">3D 空间</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/auto/xf_doc/sdk/three-air/introduction">入门</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto/xf_doc/sdk/three-air/course">教程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/auto/xf_doc/sdk/three-air/examples">示例</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#基础渲染">基础渲染</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#导航圆盘">导航圆盘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#相机视角">相机视角</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#建筑楼层">建筑楼层</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#导航地标">导航地标</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#标识物">标识物</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#智能导览">智能导览</a><!----></li></ul></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="基础渲染" tabindex="-1">基础渲染 <a class="header-anchor" href="#基础渲染" aria-hidden="true">#</a></h2><p>以下例子我们使用SDK展示了它的基本的渲染能力，在后面的示例中我们会以该示例作为基础进行解释和扩展。</p><div class="language-javascript"><pre><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;IE=edge&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
    <span class="token operator">*</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    #renderer<span class="token operator">-</span>stage <span class="token punctuation">{</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
      <span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>
      z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;renderer-stage&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span><span class="token constant">ADK</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Demo<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">let</span> bootData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 模型数据</span>
  <span class="token keyword">let</span> pointData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 点位数据</span>
  <span class="token keyword">let</span> tagData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 标签数据</span>
  <span class="token keyword">let</span> visualRange <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 标签显示范围</span>

  bootData <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;zq_sywkmrzggcp_147&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 素材ID</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;model&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 素材类别</span>
    <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&#39;2018-08-10-15-24-13&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 版本</span>
    <span class="token literal-property property">entry_info</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 首入信息字段</span>
        <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;panorama&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 入口模式， 默认值：panorama</span>
        <span class="token literal-property property">point</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 首入点位ID, 默认值：null</span>
        <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 首入点旋转四元数, 默认值：null</span>
        <span class="token literal-property property">lon_lat</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token comment">// 首入模式相机控制经纬度，默认值：null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lod_loading</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  pointData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_02&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_04&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_05&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_25&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_24&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_20&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_16&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_15&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_21&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_22&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_06&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_07&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_08&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_12&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_09&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_11&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_10&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_14&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_13&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_03&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span>

  tagData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;AWyOEektcdP&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&quot;location_02&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">location_line</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">model_id</span><span class="token operator">:</span> <span class="token string">&quot;1dYuVkJYDSg&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1.104881048514399</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1.4491374217453177</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.8167761587569897</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.03448090696782526</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.7085871485160413</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.7039251285249339</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.034709270285288245</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">&quot;http://material.3dnest.cn/1/672/997758c6ea994611_512_512.png&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
  window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 启动</span>
    zqsdk<span class="token punctuation">.</span>boot<span class="token punctuation">.</span><span class="token function">runStart</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> bootData<span class="token punctuation">,</span>
        <span class="token function-variable function">onFirstPanoLoaded</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;首入点天空盒加载完成&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">onModelLoaded</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;3D模型加载完成&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">onLoaded</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;核心加载完成&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;navigator-reticule&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;entrypoint-manager&#39;</span><span class="token punctuation">)</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;photos-wall-manager&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;videos-wall-manager&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;navigator-view-manager&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;waypoint-manager&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//此时点位管理工具安装完成，在此回调中需要适配点位相关数据,具体参数请移步点位管理API说明</span>
                zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">adapterWaypointsData</span><span class="token punctuation">(</span>pointData<span class="token punctuation">)</span>
                
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;tags-manager&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//此时标签管理工具安装完成，在此回调中需要适配标签相关数据,具体参数请移步标签管理API说明</span>
                zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">data</span><span class="token operator">:</span> tagData<span class="token punctuation">,</span>
                  <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;load.tags.complete&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//用来设置标签显示范围，在标签加载完成后调用，具体参数请移步标签管理API说明</span>
                    zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">setVisualRange</span><span class="token punctuation">(</span>visualRange<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token function-variable function">failed</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;load.tags.failed&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">onProgress</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;加载进度&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><h2 id="导航圆盘" tabindex="-1">导航圆盘 <a class="header-anchor" href="#导航圆盘" aria-hidden="true">#</a></h2><ul><li>概念：在基础渲染全景中我们会看到一个白色的图标会跟随鼠标移动，这个图标就叫做导航圆盘</li><li>安装：在场景中我们想要显示导航圆盘，就需要先安装它，但注意要在核心加载完成后安装</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;navigator-reticule&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>卸载</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">uninstall</span><span class="token punctuation">(</span><span class="token string">&#39;navigator-reticule&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="相机视角" tabindex="-1">相机视角 <a class="header-anchor" href="#相机视角" aria-hidden="true">#</a></h2><ul><li>获取当前相机旋转角度</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentCameraRotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>监听相机旋转</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function-variable function">onCameraRotation</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>监听相机旋转停止</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function-variable function">onCameraRotationStop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>获取当前相机模式 <ul><li>全景模式 (panorama)</li><li>3D模式 (dollhouse)</li><li>平面模式 (floorplan)</li></ul></li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>设置当前相机模式</p><ul><li><p>全景模式</p><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">turnToPanorama</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>3D模式</p><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">turnToDollhouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>平面模式</p><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function">turnToFloorplan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li><li><p>监听相机模式变化</p></li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function-variable function">onModeChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="建筑楼层" tabindex="-1">建筑楼层 <a class="header-anchor" href="#建筑楼层" aria-hidden="true">#</a></h2><p>我们为了便利用户在多楼层建筑的情况下，想要快速浏览到其他楼层，我们提供出了对多层建筑切换楼层的功能</p><ul><li>获取所有楼层</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getAllFloorsInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>获取当前楼层</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentFloorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>切换楼层</p><p>注意：在 <strong>全景模式</strong> 下才可进行楼层切换</p></li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 楼层索引</span>
zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">switchFloor</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>选择所有楼层</p><p>注意：在 <strong>3D模式</strong> 和 <strong>平面模式</strong> 下才可进行楼层选择</p></li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">chooseAllFloor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>选择楼层</p><p>注意：在 <strong>3D模式</strong> 和 <strong>平面模式</strong> 下才可进行楼层选择</p></li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 楼层索引</span>
zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">chooseFloor</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>监听楼层切换</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function-variable function">onModelSetFloor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="导航地标" tabindex="-1">导航地标 <a class="header-anchor" href="#导航地标" aria-hidden="true">#</a></h2><ul><li><p>概念：是指在 <strong>全景模式</strong> 下地面上的图标，鼠标点击后，视角可以跟随移动，也可以称为 <strong>点位</strong>，在后续本文中提到的 <strong>点位</strong> 就是指 <strong>导航地标</strong>。</p></li><li><p>使用方式：在核心加载完成后安装它，然后在安装成功的回调中适配导航地标的数据。</p></li></ul><div class="language-javascript"><pre><code><span class="token comment">// 地标数据</span>
<span class="token keyword">let</span> pointData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_02&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_03&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_04&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;location_05&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">enable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;//material.3dnest.cn/1/1/c6930616be504d0f_512_512.png&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token comment">// 安装</span>
zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;waypoint-manager&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">adapterWaypointsData</span><span class="token punctuation">(</span>pointData<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>地标数据</p><p>类型：Array</p><p>数组的每一条数据表示一个地标点的详细描述</p><ul><li>id: 地标点唯一唯一标识</li><li>enble: 是否启用该点位，true为启用，false为禁用并且该点位不显示，点击后相机也无法移动过去</li><li>visible: 是否显示该点位，true为显示，false为隐藏，但是点击该点位后相机可以正常移动过去</li><li>pic: 地标的图标地址url</li></ul></li><li><p>显示所有点位</p></li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">showAllWaypoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>隐藏所有点位</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">hideAllWaypoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>显示编辑组</li></ul><p>作用：当显示编辑组后，可以用来禁用单个点位。</p><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">showEditGroups</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>隐藏编辑组</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">hideEditGroups</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>设置所有点位的图标</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">pic</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// 图片地址</span>
<span class="token punctuation">}</span>
zqsdk<span class="token punctuation">.</span>waypointManager<span class="token punctuation">.</span><span class="token function">setAllWaypointTexture</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>获取当前点位ID</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentLocationId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>监听到达点位通知（可以把点位ID和展示信息绑定，当到达某个点位后触发展示信息）</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token function-variable function">onFlyingToPanoComplete</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="标识物" tabindex="-1">标识物 <a class="header-anchor" href="#标识物" aria-hidden="true">#</a></h2><ul><li><p>概念：我们提供了允许在全景中打标签的功能，这个标签就是 <strong>标识物</strong>，不过在后续文章中我们会频繁提到 <strong>标签</strong> 这个词汇，为了方便理解 <strong>标识物</strong> 既是 <strong>标签</strong>。</p></li><li><p>安装标签管理</p></li></ul><div class="language-"><pre><code>zqsdk.ext.install(&#39;tags-manager&#39;, function() {
	consoel.info(&#39;标签管理安装完成&#39;);
})
</code></pre></div><ul><li>加载标签</li></ul><p>注意：加载标签之前需要安装标签管理</p><div class="language-javascript"><pre><code><span class="token comment">// 标签数据</span>
<span class="token keyword">let</span> tagData <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">512</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;AWyOEektcdP&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&quot;location_02&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">location_line</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">model_id</span><span class="token operator">:</span> <span class="token string">&quot;1dYuVkJYDSg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1.104881048514399</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1.4491374217453177</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.8167761587569897</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.03448090696782526</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.7085871485160413</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.7039251285249339</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.034709270285288245</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">&quot;http://material.3dnest.cn/1/672/997758c6ea994611_512_512.png&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">let</span> visualRange <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 设置标签显示范围</span>

zqsdk<span class="token punctuation">.</span>ext<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token string">&#39;tags-manager&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    consoel<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;标签管理安装完成&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> tagData<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            consoel<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&#39;标签加载完成&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">setVisualRange</span><span class="token punctuation">(</span>visualRange<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">failed</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;load.tags.failed&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>编辑模式 (允许添加标签、移动标签等对标签操作的行为)</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">editMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>非编辑模式（禁止对标签进行操作）</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">unEdit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>添加标签</li></ul><div class="language-javascript"><pre><code><span class="token comment">// tagData 的其可选参数可详细参考API Tag</span>
<span class="token keyword">let</span> tagData <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">&quot;//material.3dnest.cn/1/1233/15d7e6a162cb4365_200_200.png&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tagData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>移除标签</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> uuid <span class="token operator">=</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">;</span> <span class="token comment">// 在标签摆放成功中可获取到uuid</span>
zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>uuid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>监听标签摆放成功</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function-variable function">onPutDown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>获取标签数据并且绑定标签 id</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> tagData <span class="token operator">=</span> zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">getTagDataOfScene</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">tag_id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>uuid<span class="token punctuation">,</span>
    <span class="token literal-property property">scene_id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>model_id 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
tagData<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>
</code></pre></div><ul><li>设置标签显示范围</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> visualRange <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">setVisualRange</span><span class="token punctuation">(</span>visualRange<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>显示所有标签</li></ul><div class="language-"><pre><code>zqsdk.tagsManager.showTags();
</code></pre></div><ul><li>隐藏所有标签</li></ul><div class="language-"><pre><code>zqsdk.tagsManager.hideTags();
</code></pre></div><ul><li>监听标签点击</li></ul><div class="language-"><pre><code>zqsdk.tagsManager.onClick = (data) =&gt; {
	console.info(data);
}
</code></pre></div><ul><li>飞向标签 (在标签摆放或者点击标签的时候可以拿到uuid)</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">uuid</span><span class="token operator">:</span><span class="token string">&#39;标签UUID&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">roam_duration</span><span class="token operator">:</span><span class="token string">&#39;漫游时长(ms)&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">rotate_duration</span><span class="token operator">:</span><span class="token string">&#39;旋转时长(ms)&#39;</span><span class="token punctuation">,</span> 
	<span class="token function-variable function">complete</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">flyToTag</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>显示所有标签定位线</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">showLocationLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>隐藏所有标签定位线</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">hideLocationLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>设置标签引线长度</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token string-property property">&#39;tag_id&#39;</span><span class="token operator">:</span> <span class="token string">&#39;uuid&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;len&#39;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">setLocationLineLen</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>如何绑定标签数据，点击显示该标签所绑定的相关业务信息</li></ul><p>​ 当 <strong>添加标签</strong> 后，会触发 <strong>监听标签摆放</strong> 的回调，在回调中我们获取到了该标签的相关信息，然后通过 <strong>获取标签数据并且绑定标签 id</strong>接口来绑定ui展示信息id，然后在 <strong>监听点击标签</strong> 的返回信息中就携带的我们绑定的id，通过这个唯一id来展示相应的ui信息。</p><div class="language-javascript"><pre><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">&quot;http://material.3dnest.cn/1/1233/15d7e6a162cb4365_200_200.png&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;png&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 添加标签</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.tag&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 监听摆放</span>
  zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function-variable function">onPutDown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取标签数据并且绑定标签id</span>
    <span class="token keyword">let</span> tagData <span class="token operator">=</span> zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function">getTagDataOfScene</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tag_id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>uuid<span class="token punctuation">,</span>
      <span class="token literal-property property">scene_id</span><span class="token operator">:</span> data<span class="token punctuation">.</span>model_id 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    tagData<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 监听点击</span>
  zqsdk<span class="token punctuation">.</span>tagsManager<span class="token punctuation">.</span><span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="智能导览" tabindex="-1">智能导览 <a class="header-anchor" href="#智能导览" aria-hidden="true">#</a></h2><ul><li><p>概念：可以在模型中设置特定的点位做为一个路径点，并且在点位的位置会旋转相机视角进行模型浏览，当设置了多个点位后，我们就可以点击特定的点位进行浏览，也可以多个点位按顺序播放浏览模型了。</p></li><li><p>截图</p></li></ul><div class="language-javascript"><pre><code><span class="token comment">// picInfo: {base64: string, width: number, height: number}</span>
<span class="token keyword">let</span> picInfo <span class="token operator">=</span> zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">screenShot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>添加导览点位</li></ul><div class="language-javascript"><pre><code><span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">location_id</span><span class="token operator">:</span> zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentLocationId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 获取当前点位ID</span>
    <span class="token literal-property property">switch_mode</span><span class="token operator">:</span> <span class="token string">&#39;roam&#39;</span><span class="token punctuation">,</span> <span class="token comment">// roam:漫游, fade:淡入淡出</span>
    <span class="token literal-property property">camera_rotation</span><span class="token operator">:</span> zqsdk<span class="token punctuation">.</span>core<span class="token punctuation">.</span><span class="token function">getCurrentCameraRotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 获取当前相机角度</span>
    <span class="token literal-property property">rotate_deg</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token comment">// 旋转角度（0-360）</span>
    <span class="token literal-property property">rotate_duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span> <span class="token comment">// 旋转时长 （1000-30000）ms</span>
    <span class="token literal-property property">rotate_direction</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 旋转方向 顺时针：1,逆时针： 2</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>切换导览点位（开始导览）</li></ul><div class="language-javascript"><pre><code>zqsdk<span class="token punctuation">.</span>navigatorViewManager<span class="token punctuation">.</span><span class="token function">switchView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&#39;location_02&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">switch_mode</span><span class="token operator">:</span> <span class="token string">&#39;roam&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">camera_rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05139083730922004</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.9333739458437116</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.148694660224818</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.3225863560063</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rotate_deg</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rotate_duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rotate_direction</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function-variable function">switch_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 切换完成回调</span>
    <span class="token function-variable function">navigator_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 导览完成回调</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>停止导览</li></ul><div class="language-"><pre><code>zqsdk.navigatorViewManager.stopNavigator();
</code></pre></div><ul><li>设置导览倍速</li></ul><div class="language-javascript"><pre><code><span class="token comment">// speed: number</span>
zqsdk<span class="token punctuation">.</span>navigatorViewManager<span class="token punctuation">.</span><span class="token function">setNavigatorSpeed</span><span class="token punctuation">(</span>speed<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>自动多个点位智能导览</li></ul><div class="language-javascript"><pre><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.navigator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">star1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">star1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    zqsdk<span class="token punctuation">.</span>navigatorViewManager<span class="token punctuation">.</span><span class="token function">switchView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&#39;location_02&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">switch_mode</span><span class="token operator">:</span> <span class="token string">&#39;roam&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">camera_rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05139083730922004</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.9333739458437116</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.148694660224818</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.3225863560063</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rotate_deg</span><span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rotate_duration</span><span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rotate_direction</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token function-variable function">switch_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 切换完成回调</span>
        <span class="token function-variable function">navigator_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">star2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment">// 导览完成回调</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">star2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    zqsdk<span class="token punctuation">.</span>navigatorViewManager<span class="token punctuation">.</span><span class="token function">switchView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&#39;location_04&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">switch_mode</span><span class="token operator">:</span> <span class="token string">&#39;roam&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">camera_rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05139083730922004</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.9333739458437116</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.148694660224818</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.3225863560063</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_deg</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_direction</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token function-variable function">switch_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 切换完成回调</span>
      <span class="token function-variable function">navigator_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">star3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment">// 导览完成回调</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">star3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    zqsdk<span class="token punctuation">.</span>navigatorViewManager<span class="token punctuation">.</span><span class="token function">switchView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">location_id</span><span class="token operator">:</span> <span class="token string">&#39;location_06&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">switch_mode</span><span class="token operator">:</span> <span class="token string">&#39;roam&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">camera_rotation</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0.05139083730922004</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0.9333739458437116</span><span class="token punctuation">,</span> <span class="token literal-property property">z</span><span class="token operator">:</span> <span class="token number">0.148694660224818</span><span class="token punctuation">,</span> <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.3225863560063</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_deg</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rotate_direction</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token function-variable function">switch_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 切换完成回调</span>
      <span class="token function-variable function">navigator_complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 导览完成回调</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/auto/xf_doc/sdk/three-air/course" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>教程</span></a></div><div class="next" data-v-38ede35f><!----></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_action.md\":\"60dc379b\",\"api_boot.md\":\"3997f78c\",\"api_core.md\":\"a3726049\",\"api_ext_index.md\":\"a245c817\",\"api_ext_navigator.md\":\"e2989c2a\",\"api_ext_point.md\":\"5ab90a20\",\"api_ext_tag.md\":\"b89ba128\",\"api_index.md\":\"e1a6fdea\",\"index.md\":\"a26c5b81\",\"log_index.md\":\"fc30caaf\",\"problem_index.md\":\"056df83a\",\"three-air_course.md\":\"6a27e2e6\",\"three-air_examples.md\":\"46dd13f4\",\"three-air_index.md\":\"a4f4290c\",\"three-air_introduction.md\":\"d2263258\"}")</script>
    <script type="module" async src="/auto/xf_doc/sdk/assets/app.363355ad.js"></script>
    
  </body>
</html>